---
title: "Pip the troll!"
author: "Elina"
date: '27 травня 2018 р '
output: html_document
---

#Російські тролі та вибори в США
###200 000 видалених твітів, які встигли зловити NBC News

![Інавгурація Дональда Трампа](https://pmcvariety.files.wordpress.com/2015/12/trump-3.jpg?w=1000&h=562&crop=1)

####Під час президентських виборів у США 2016 року російські тролі вели активну пропагандистську діяльність в Твітері та інших соцмережах. Про це в січні 2017 року повідомив Комітет з розвідки Палати представників США, зазначивши, що Росія втручалася в американські вибори, намагаючись сприяти перемозі Дональда Трампа і програшу Гілларі Клінтон. 

####За деякий час до цього, в серпні-вересні 2017 року, всі акаунти російських тролів були заблоковані в рамках розслідування щодо вірогідного російського втручання у вибори президента США. Твітер також призупинив їхню діяльність, однак разом з тим і видалив близько 200 000 їхніх твітів з публічного перегляду. На прохання NBC News джерела, що вирішили залишитися анонімними, відновили видалені дані соцмережі та створили часткову базу акаунтів російських тролів. Саме з цих облікових записів вони поширювали дезінформацію, пропагували расизм, сперечалися та закликали більше 40 американських політиків, медіа-діячів та відомих особистостей взаємодіяти з ними. 

####Ми вирішили проаналізувати ці дані та визначити ряд важливих факторів впливу діяльності російських тролів на вибори президента США. До прикладу, взаємодію географії та аудиторії фейкових акаунтів. Таким чином, ми можемо побачити, в яких штатах пропаганда мала найбільше охоплення аудиторії, а, відповідно, і найбільший вплив.

```{r}

library(dplyr)
library(ggplot2)
library(readxl)
library(forcats)


rus_trolls <- read_excel("D:/УКУ/візуалізація/ucu/rus_trolls.xlsx")

write.csv(rus_trolls, "trolls.csv") #зберігаємо ехсеl

read.csv("trolls.csv") -> trolls 


trolls %>%
  group_by(location) %>%    #робить групи по кожній локації
  summarise(           #рахує те, що всередині кожної окремої групи
    followers = median(followers_count)    #median - бере середнє значення кількості фоловерів
    ) %>%
  arrange(desc(followers)) -> df1 #показує в порядку спадання, в якому штаті в середньому було більше фоловерів

#отже, ми маємо тепер значення, з якого штату твіти російських тролів охоплювали найбільшу аудиторію


df1 %>%                     
    mutate(location = fct_reorder(location, followers))  %>%  #fct_reorder - перерозпорядок локацій за кількістю фоловерів, якщо поставити мінус перед followers, то буде по спадаючій
    ggplot() + geom_col(aes(x = location, y = followers, fill = followers>12000)) +
  scale_fill_manual(values = c("blue", "black"))
 #тепер ми маємо графік, в якому штаті скільки було фоловерів, по зростаючій


```

####На графіку вище помітно, що найбільшу аудиторію захопили твіти з акаунтів російських тролів, що були зареєстровані в таких штатах як: Каліфорнія (CA), Техас(TX), Пенсильванія(PA), Огайо(OH), Мічиган (МІ), Теннессі (TN) та Вашингтон (WA). Кількість фоловерів, що стежили за дописами цих акаунтів, сягає від 12 500 до майже 25 000. Очевидно, що в цих штатах російські тролі і мали найбільший вплив на аудиторію американських виборців. Цікавим є те, що в п'ятьох із семи цих штатів перемогу отримав Дональд Трамп, а саме в: Техасі, Пенсильванії, Огайо, Мічигані та Теннессі.

####Відомо, що всю діяльність російські тролі вели з так званої "фабрики тролів", штаб-квартира якої знаходиться в Санкт-Петербурзі. Офіційна назва цієї "фабрики" - Internet Research Agency (IRA), тобто це агенція, що займається впливом на громадську думку в інтересах російської влади. З коментарів співробітників агенції стало відомо, що працівники отримували зарплату від 55 до 90 тис. рублів (25-40 тис. гривень), а керівництво – від 120 тис. рублів (понад 55 тис. гривень). Публікація пропагандистського контенту в соцмережах планувалася наперед, щоб у читачів не виникло підозр, що реальні автори живуть на іншій півкулі.

####Сама ж агенція була створена в 2013 році. Проаналізувавши дані акаунтів, ми помітили, що велика їх частина була також створена в 2013-му, найбільша - в 2014-му, а за рік до виборів, у 2015 році, нових акаунтів було створено найменше. Очевидно, що пропагандистська діяльність велася вже зі створених раніше облікових записів.
  
```{r}

trolls %>%
   group_by(created_at) %>%    #робить групи по кожному року
  count()  ->  df2      #рахує кількість строк по кожному року


pie <- ggplot(df2, aes(x="", y=n, fill=created_at)) +
  scale_fill_gradient(low="blue", high="black", guide = "legend") +
geom_bar(width = 1, stat = "identity") + coord_polar("y", start=0) #ми бачимо на круговій діаграмі у відсотковому відношенні, в які роки створювалися ці акаунти
pie

```


####Найбільш активним для російських тролів був 2014 рік, що засвідчує і попередній графік, і наступний.  На останньому ми бачимо, що найбільшу кількість дописів (майже 12 000) вони зробили саме цього року, а вже за рік до виборів зменшили свою діяльність наполовину. В ці роки, до речі, міжнародні видання активно публікували статті про діяльність "фабрики тролів", однак це не ставало приводом для російських пропагандистів припинити розповсюджувати фейкові дописи.

```{r}
#як залежить кількість статусів від кількості фоловерів

trolls %>%
   group_by(created_at) %>% #робить групи по кожному року
   summarise(           #рахує те, що всередині кожної окремої групи
    statuses = median(statuses_count)    #median - бере середнє значення кількості фоловерів
    ) %>%
  arrange(desc(statuses)) -> df3 

df3 %>%                     
  ggplot() + geom_col(aes (x = created_at, y = statuses, fill = statuses > 6000, width = .5)) +
  scale_fill_manual(values = c("blue", "black")) 

```

